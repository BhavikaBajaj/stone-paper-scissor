<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Game Project</title>
    <style>
      body {
        text-align: center;
      }
    </style>
  </head>
  <body>
    <h1>Stone-Paper-Scissor</h1>
    <button
      onclick="
        console.log('You have chosen Stone.')
        let computerChoice = generateComputerChoice();
        let userChoice = 'Stone';
        let resultMsg = getResult(userChoice,computerChoice);
        showResult(userChoice,computerChoice,resultMsg);
    "
    >
      Stone
    </button>
    <button
      onclick="
        console.log('You have chosen Paper.')
        computerChoice = generateComputerChoice();
        userChoice = 'Paper';
        resultMsg = getResult(userChoice,computerChoice);
        showResult(userChoice,computerChoice,resultMsg);
    "
    >
      Paper
    </button>
    <button
      onclick="
        console.log('You have chosen Scissor.')
        computerChoice = generateComputerChoice();
        userChoice = 'Scissor';
        resultMsg = getResult(userChoice,computerChoice);
        showResult(userChoice,computerChoice,resultMsg);
    "
    >
      Scissor
    </button>

    <script>
      let score = {
        win: 0,
        lost: 0,
        tie: 0,
        displayScore: function () {
          return `Won ${score.win}, Lost ${score.lost} and Tie ${score.tie} `;
        },
      };

      function generateComputerChoice() {
        //This will generate random number between 0 and 3
        let randomNumber = Math.random() * 3;
        let computerChoice;
        if (randomNumber <= 1) {
          return "Stone";
        } else if (randomNumber <= 2) {
          return "Paper";
        } else {
          return "Scissor";
        }
      }

      function getResult(userMove, computerMove) {
        let resultMsg;
        if (userMove === computerMove) {
          score.tie++;
          return "Its a tie";
        } else if (userMove === "Stone") {
          if (computerMove == "Paper") {
            score.lost++;
            return "Computer wins";
          } else {
            score.win++;
            return "User wins";
          }
        } else if (userMove === "Paper") {
          if (computerMove === "Stone") {
            score.win++;
            return "User wins";
          } else {
            score.lost++;
            return "Computer wins";
          }
        } else {
          if (computerMove === "Stone") {
            score.lost++;
            return "Computer wins";
          } else {
            score.win++;
            return "User wins";
          }
        }
      }

      function showResult(userMove, computerMove, resultMsg) {
        alert(
          `You have chosen ${userMove}. Computer choice is ${computerMove}.
          Result: ${resultMsg}
          ${score.displayScore()}`
        );
      }
    </script>
  </body>
</html>
